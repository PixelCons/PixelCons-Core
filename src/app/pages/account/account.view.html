<div class="pixelconAccountPage" ng-class="ctrl.screenSize">
	<div class="topSpacer"></div>
	
	<div class="accountCard colorLight">
		
		<!-- Header -->
		<div class="accountHeader">
			<accounticon address="ctrl.accountAddress" text="{{ctrl.screenSize.sm?'':'Account Wallet'}}" max-chars="{{ctrl.screenSize.sm?'1':(ctrl.screenSize.md?'24':'')}}" size="md"></accounticon>
			<div class="buttonContainer">
				<md-select class="sortBy md-no-underline" ng-disabled="!ctrl.accountAddress || !ctrl.pixelcons.length" ng-model="ctrl.filter.sortBy" ng-change="ctrl.checkUpdateData()" placeholder="Sort By">
					<md-option value="dateCreated">Date Created</md-option>
					<md-option value="name">Name</md-option>
				</md-select>
				<md-button class="iconButton" ng-class="{'sortDesc': ctrl.filter.sortDesc, 'sortAsc': !ctrl.filter.sortDesc}" ng-disabled="!ctrl.accountAddress || !ctrl.pixelcons.length" 
						ng-click="ctrl.setSortOrder(!ctrl.filter.sortDesc)" aria-label="Sort Order"></md-button>
				<div class="actionButtons" ng-show="ctrl.accountAddress && ctrl.pixelcons.length > 0">
					<md-menu md-position-mode="target-right target">
						<md-button class="iconButton migrate" ng-click="$mdOpenMenu()" aria-label="Migrate"></md-button>
						<md-menu-content>
							<md-menu-item>
								<md-button ng-click="ctrl.setSelectionMode('mergeL1')" ng-disabled="!ctrl.checkSelectModeActionable('mergeL1')">Merge L1&#10140;L2</md-button>
							</md-menu-item>
							<md-menu-item>
								<md-button ng-click="ctrl.setSelectionMode('createL1')" ng-disabled="!ctrl.checkSelectModeActionable('createL1')">Create L1&#10140;L2</md-button>
							</md-menu-item>
							<md-menu-item>
								<md-button ng-click="ctrl.setSelectionMode('withdrawL1')" ng-disabled="!ctrl.checkSelectModeActionable('withdrawL1')">Withdraw &#10140;L1</md-button>
							</md-menu-item>
						</md-menu-content>
					</md-menu>
					<md-menu md-position-mode="target-right target">
						<md-button class="iconButton more" ng-click="$mdOpenMenu()" aria-label="More">
						</md-button>
						<md-menu-content>
							<md-menu-item>
								<md-button ng-click="ctrl.setSelectionMode('send')">Send To</md-button>
							</md-menu-item>
							<md-menu-item ng-if="ctrl.marketEnabled">
								<md-button ng-click="">
									<span>Sell</span>
									<a class="plain buttonLink" ng-href="{{ctrl.marketAccountLink}}" target="_blank"></a>
								</md-button>
							</md-menu-item>
						</md-menu-content>
					</md-menu>
				</div>
			</div>
		</div>
		
		<!-- Viewer window -->
		<div class="displayWindow colorDark">
		
			<!-- Error -->
			<div class="error colorLight textSelectable" ng-show="ctrl.error" ng-bind-html="ctrl.error"></div>
		
			<!-- Empty -->
			<div class="error colorLight textSelectable" ng-show="!ctrl.error && !ctrl.loading && ctrl.pixelcons.length==0">
				No PixelCons
			</div>
		
			<!-- Loading -->
			<div class="loading colorLight" ng-show="ctrl.loading">
				<img class="crispImage" src="img/loading.gif" alt="Loading.." height="100%" width="100%"/>
			</div>
		
			<!-- PixelCons -->
			<div class="displayTable" ng-show="!ctrl.loading">
				<div class="helpText textMedium" ng-show="ctrl.selectionMode=='mergeL1'">Select the L1 PixelCons you want to merge to L2</div>
				<div class="helpText textMedium" ng-show="ctrl.selectionMode=='createL1'">Select the PixelCons you want to create on L1 and merge to L2</div>
				<div class="helpText textMedium" ng-show="ctrl.selectionMode=='withdrawL1'">Select the PixelCons you want to withdraw to L1</div>
				<div class="helpText textMedium" ng-show="ctrl.selectionMode=='send'">Select the PixelCons you want to send</div>
				<pixelconcard class="pixelconCard" pixelcon="pixelcon" no-account="true" selectable="{{!!ctrl.selectionMode}}" disabled="{{ctrl.checkDisabled(pixelcon)}}" 
					size="{{(ctrl.screenSize.sm)?'xs':(ctrl.screenSize.md?'sm':'md')}}" ng-repeat="pixelcon in ctrl.pixelcons track by $index"></pixelconcard>
			</div>
		</div>
		
		<!-- Selection Buttons -->
		<div class="selectionButtonContainer" layout="row" layout-align="space-between center"> 
			<md-button class="actionButton" ng-click="ctrl.setSelectionMode(null)" ng-show="ctrl.selectionMode">Cancel</md-button>
			<span ng-show="ctrl.selectionMode">
				<div class="selectionText textLight textMedium"><b>{{ctrl.getNumSelected()}}</b> Selected</div>
				<md-button class="actionButton md-raised md-primary" ng-click="ctrl.mergeL1($event)" 
					ng-disabled="!ctrl.getNumSelected()" ng-show="ctrl.selectionMode=='mergeL1'">Merge</md-button>
				<md-button class="actionButton md-raised md-primary" ng-click="ctrl.createL1($event)" 
					ng-disabled="!ctrl.getNumSelected()" ng-show="ctrl.selectionMode=='createL1'">Create</md-button>
				<md-button class="actionButton md-raised md-primary" ng-click="ctrl.withdrawL1($event)" 
					ng-disabled="!ctrl.getNumSelected()" ng-show="ctrl.selectionMode=='withdrawL1'">Withdraw</md-button>
				<md-button class="actionButton md-raised md-primary" ng-click="ctrl.send($event)" 
					ng-disabled="!ctrl.getNumSelected()" ng-show="ctrl.selectionMode=='send'">Send</md-button>
			</span>
			<div class="countText textLight textMedium" ng-show="!ctrl.selectionMode">
				<b>{{ctrl.pixelcons.length}}</b> {{ctrl.pixelcons.length?'PixelCon':'PixelCons'}}
			</div>
		</div>
	</div>
	
	
	<div class="bottomSpacer"></div>
	<div class="footerSpacer"></div>
</div>
