var UPNG={toRGBA8:function(e){var r=e.width,t=e.height;if(null==e.tabs.acTL)return[UPNG.toRGBA8.decodeImage(e.data,r,t,e).buffer];var a=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var n=r*t*4,f=new Uint8Array(n),i=new Uint8Array(n),o=new Uint8Array(n),s=0;s<e.frames.length;s++){var d=e.frames[s],c=d.rect.x,l=d.rect.y,u=d.rect.width,v=d.rect.height,h=UPNG.toRGBA8.decodeImage(d.data,u,v,e);if(0!=s)for(var U=0;U<n;U++)o[U]=f[U];if(0==d.blend?UPNG._copyTile(h,u,v,f,r,t,c,l,0):1==d.blend&&UPNG._copyTile(h,u,v,f,r,t,c,l,1),a.push(f.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)UPNG._copyTile(i,u,v,f,r,t,c,l,0);else if(2==d.dispose)for(U=0;U<n;U++)f[U]=o[U]}return a}};UPNG.toRGBA8.decodeImage=function(e,r,t,a){var n=r*t,f=UPNG.decode._getBPP(a),i=Math.ceil(r*f/8),o=new Uint8Array(4*n),s=new Uint32Array(o.buffer),d=a.ctype,c=a.depth,l=UPNG._bin.readUshort;Date.now();if(6==d){var u=n<<2;if(8==c)for(var v=0;v<u;v+=4)o[v]=e[v],o[v+1]=e[v+1],o[v+2]=e[v+2],o[v+3]=e[v+3];if(16==c)for(v=0;v<u;v++)o[v]=e[v<<1]}else if(2==d){var h=a.tabs.tRNS;if(null==h){if(8==c)for(v=0;v<n;v++){var U=3*v;s[v]=255<<24|e[U+2]<<16|e[U+1]<<8|e[U]}if(16==c)for(v=0;v<n;v++){U=6*v;s[v]=255<<24|e[U+4]<<16|e[U+2]<<8|e[U]}}else{var P=h[0],b=h[1],w=h[2];if(8==c)for(v=0;v<n;v++){var N=v<<2;U=3*v;s[v]=255<<24|e[U+2]<<16|e[U+1]<<8|e[U],e[U]==P&&e[U+1]==b&&e[U+2]==w&&(o[N+3]=0)}if(16==c)for(v=0;v<n;v++){N=v<<2,U=6*v;s[v]=255<<24|e[U+4]<<16|e[U+2]<<8|e[U],l(e,U)==P&&l(e,U+2)==b&&l(e,U+4)==w&&(o[N+3]=0)}}}else if(3==d){var G=a.tabs.PLTE,p=a.tabs.tRNS,g=p?p.length:0;if(1==c)for(var _=0;_<t;_++){var y=_*i,A=_*r;for(v=0;v<r;v++){N=A+v<<2;var H=3*(m=e[y+(v>>3)]>>7-((7&v)<<0)&1);o[N]=G[H],o[N+1]=G[H+1],o[N+2]=G[H+2],o[N+3]=m<g?p[m]:255}}if(2==c)for(_=0;_<t;_++)for(y=_*i,A=_*r,v=0;v<r;v++){N=A+v<<2,H=3*(m=e[y+(v>>2)]>>6-((3&v)<<1)&3);o[N]=G[H],o[N+1]=G[H+1],o[N+2]=G[H+2],o[N+3]=m<g?p[m]:255}if(4==c)for(_=0;_<t;_++)for(y=_*i,A=_*r,v=0;v<r;v++){N=A+v<<2,H=3*(m=e[y+(v>>1)]>>4-((1&v)<<2)&15);o[N]=G[H],o[N+1]=G[H+1],o[N+2]=G[H+2],o[N+3]=m<g?p[m]:255}if(8==c)for(v=0;v<n;v++){var m;N=v<<2,H=3*(m=e[v]);o[N]=G[H],o[N+1]=G[H+1],o[N+2]=G[H+2],o[N+3]=m<g?p[m]:255}}else if(4==d){if(8==c)for(v=0;v<n;v++){N=v<<2;var I=e[T=v<<1];o[N]=I,o[N+1]=I,o[N+2]=I,o[N+3]=e[T+1]}if(16==c)for(v=0;v<n;v++){var T;N=v<<2,I=e[T=v<<2];o[N]=I,o[N+1]=I,o[N+2]=I,o[N+3]=e[T+2]}}else if(0==d)for(P=a.tabs.tRNS?a.tabs.tRNS:-1,_=0;_<t;_++){var R=_*i,C=_*r;if(1==c)for(var S=0;S<r;S++){var B=(I=255*(e[R+(S>>>3)]>>>7-(7&S)&1))==255*P?0:255;s[C+S]=B<<24|I<<16|I<<8|I}else if(2==c)for(S=0;S<r;S++){B=(I=85*(e[R+(S>>>2)]>>>6-((3&S)<<1)&3))==85*P?0:255;s[C+S]=B<<24|I<<16|I<<8|I}else if(4==c)for(S=0;S<r;S++){B=(I=17*(e[R+(S>>>1)]>>>4-((1&S)<<2)&15))==17*P?0:255;s[C+S]=B<<24|I<<16|I<<8|I}else if(8==c)for(S=0;S<r;S++){B=(I=e[R+S])==P?0:255;s[C+S]=B<<24|I<<16|I<<8|I}else if(16==c)for(S=0;S<r;S++){I=e[R+(S<<1)],B=l(e,R+(S<<v))==P?0:255;s[C+S]=B<<24|I<<16|I<<8|I}}return o},UPNG.decode=function(e){for(var r,t=new Uint8Array(e),a=8,n=UPNG._bin,f=n.readUshort,i=n.readUint,o={tabs:{},frames:[]},s=new Uint8Array(t.length),d=0,c=0,l=[137,80,78,71,13,10,26,10],u=0;u<8;u++)if(t[u]!=l[u])throw"The input is not a PNG file!";for(;a<t.length;){var v=n.readUint(t,a);a+=4;var h=n.readASCII(t,a,4);if(a+=4,"IHDR"==h)UPNG.decode._IHDR(t,a,o);else if("CgBI"==h)o.tabs[h]=t.slice(a,a+4);else if("IDAT"==h){for(u=0;u<v;u++)s[d+u]=t[a+u];d+=v}else if("acTL"==h)o.tabs[h]={num_frames:i(t,a),num_plays:i(t,a+4)},r=new Uint8Array(t.length);else if("fcTL"==h){var U;if(0!=c)(U=o.frames[o.frames.length-1]).data=UPNG.decode._decompress(o,r.slice(0,c),U.rect.width,U.rect.height),c=0;var P={x:i(t,a+12),y:i(t,a+16),width:i(t,a+4),height:i(t,a+8)},b=f(t,a+22);b=f(t,a+20)/(0==b?100:b);var w={rect:P,delay:Math.round(1e3*b),dispose:t[a+24],blend:t[a+25]};o.frames.push(w)}else if("fdAT"==h){for(u=0;u<v-4;u++)r[c+u]=t[a+u+4];c+=v-4}else if("pHYs"==h)o.tabs[h]=[n.readUint(t,a),n.readUint(t,a+4),t[a+8]];else if("cHRM"==h){o.tabs[h]=[];for(u=0;u<8;u++)o.tabs[h].push(n.readUint(t,a+4*u))}else if("tEXt"==h||"zTXt"==h){null==o.tabs[h]&&(o.tabs[h]={});var N=n.nextZero(t,a),G=n.readASCII(t,a,N-a),p=a+v-N-1;if("tEXt"==h)A=n.readASCII(t,N+1,p);else{var g=UPNG.decode._inflate(t.slice(N+2,N+2+p));A=n.readUTF8(g,0,g.length)}o.tabs[h][G]=A}else if("iTXt"==h){null==o.tabs[h]&&(o.tabs[h]={});N=0;var _=a;N=n.nextZero(t,_);G=n.readASCII(t,_,N-_);var y=t[_=N+1];t[_+1];_+=2,N=n.nextZero(t,_);n.readASCII(t,_,N-_);_=N+1,N=n.nextZero(t,_);var A;n.readUTF8(t,_,N-_),p=v-((_=N+1)-a);if(0==y)A=n.readUTF8(t,_,p);else{g=UPNG.decode._inflate(t.slice(_,_+p));A=n.readUTF8(g,0,g.length)}o.tabs[h][G]=A}else if("PLTE"==h)o.tabs[h]=n.readBytes(t,a,v);else if("hIST"==h){var H=o.tabs.PLTE.length/3;o.tabs[h]=[];for(u=0;u<H;u++)o.tabs[h].push(f(t,a+2*u))}else if("tRNS"==h)3==o.ctype?o.tabs[h]=n.readBytes(t,a,v):0==o.ctype?o.tabs[h]=f(t,a):2==o.ctype&&(o.tabs[h]=[f(t,a),f(t,a+2),f(t,a+4)]);else if("gAMA"==h)o.tabs[h]=n.readUint(t,a)/1e5;else if("sRGB"==h)o.tabs[h]=t[a];else if("bKGD"==h)0==o.ctype||4==o.ctype?o.tabs[h]=[f(t,a)]:2==o.ctype||6==o.ctype?o.tabs[h]=[f(t,a),f(t,a+2),f(t,a+4)]:3==o.ctype&&(o.tabs[h]=t[a]);else if("IEND"==h)break;a+=v;n.readUint(t,a);a+=4}0!=c&&((U=o.frames[o.frames.length-1]).data=UPNG.decode._decompress(o,r.slice(0,c),U.rect.width,U.rect.height),c=0);return o.data=UPNG.decode._decompress(o,s,o.width,o.height),delete o.compress,delete o.interlace,delete o.filter,o},UPNG.decode._decompress=function(e,r,t,a){Date.now();var n=UPNG.decode._getBPP(e),f=Math.ceil(t*n/8),i=new Uint8Array((f+1+e.interlace)*a);r=e.tabs.CgBI?UPNG.inflateRaw(r,i):UPNG.decode._inflate(r,i);Date.now();return 0==e.interlace?r=UPNG.decode._filterZero(r,e,0,t,a):1==e.interlace&&(r=UPNG.decode._readInterlace(r,e)),r},UPNG.decode._inflate=function(e,r){return UPNG.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),r)},UPNG.inflateRaw=function(){var e,r,t={};return t.H={},t.H.N=function(e,r){var a,n,f=Uint8Array,i=0,o=0,s=0,d=0,c=0,l=0,u=0,v=0,h=0;if(3==e[0]&&0==e[1])return r||new f(0);var U=t.H,P=U.b,b=U.e,w=U.R,N=U.n,G=U.A,p=U.Z,g=U.m,_=null==r;for(_&&(r=new f(e.length>>>2<<5));0==i;)if(i=P(e,h,1),o=P(e,h+1,2),h+=3,0!=o){if(_&&(r=t.H.W(r,v+(1<<17))),1==o&&(a=g.J,n=g.h,l=511,u=31),2==o){s=b(e,h,5)+257,d=b(e,h+5,5)+1,c=b(e,h+10,4)+4;h+=14;for(var y=1,A=0;A<38;A+=2)g.Q[A]=0,g.Q[A+1]=0;for(A=0;A<c;A++){var H=b(e,h+3*A,3);g.Q[1+(g.X[A]<<1)]=H,H>y&&(y=H)}h+=3*c,N(g.Q,y),G(g.Q,y,g.u),a=g.w,n=g.d,h=w(g.u,(1<<y)-1,s+d,e,h,g.v);var m=U.V(g.v,0,s,g.C);l=(1<<m)-1;var I=U.V(g.v,s,d,g.D);u=(1<<I)-1,N(g.C,m),G(g.C,m,a),N(g.D,I),G(g.D,I,n)}for(;;){var T=a[p(e,h)&l];h+=15&T;var R=T>>>4;if(R>>>8==0)r[v++]=R;else{if(256==R)break;var C=v+R-254;if(R>264){var S=g.q[R-257];C=v+(S>>>3)+b(e,h,7&S),h+=7&S}var B=n[p(e,h)&u];h+=15&B;var D=B>>>4,M=g.c[D],Z=(M>>>4)+P(e,h,15&M);for(h+=15&M;v<C;)r[v]=r[v++-Z],r[v]=r[v++-Z],r[v]=r[v++-Z],r[v]=r[v++-Z];v=C}}}else{0!=(7&h)&&(h+=8-(7&h));var x=4+(h>>>3),Q=e[x-4]|e[x-3]<<8;_&&(r=t.H.W(r,v+Q)),r.set(new f(e.buffer,e.byteOffset+x,Q),v),h=x+Q<<3,v+=Q}return r.length==v?r:r.slice(0,v)},t.H.W=function(e,r){var t=e.length;if(r<=t)return e;var a=new Uint8Array(t<<1);return a.set(e,0),a},t.H.R=function(e,r,a,n,f,i){for(var o=t.H.e,s=t.H.Z,d=0;d<a;){var c=e[s(n,f)&r];f+=15&c;var l=c>>>4;if(l<=15)i[d]=l,d++;else{var u=0,v=0;16==l?(v=3+o(n,f,2),f+=2,u=i[d-1]):17==l?(v=3+o(n,f,3),f+=3):18==l&&(v=11+o(n,f,7),f+=7);for(var h=d+v;d<h;)i[d]=u,d++}}return f},t.H.V=function(e,r,t,a){for(var n=0,f=0,i=a.length>>>1;f<t;){var o=e[f+r];a[f<<1]=0,a[1+(f<<1)]=o,o>n&&(n=o),f++}for(;f<i;)a[f<<1]=0,a[1+(f<<1)]=0,f++;return n},t.H.n=function(e,r){for(var a,n,f,i,o=t.H.m,s=e.length,d=o.j,c=0;c<=r;c++)d[c]=0;for(c=1;c<s;c+=2)d[e[c]]++;var l=o.K;for(a=0,d[0]=0,n=1;n<=r;n++)a=a+d[n-1]<<1,l[n]=a;for(f=0;f<s;f+=2)0!=(i=e[f+1])&&(e[f]=l[i],l[i]++)},t.H.A=function(e,r,a){for(var n=e.length,f=t.H.m.r,i=0;i<n;i+=2)if(0!=e[i+1])for(var o=i>>1,s=e[i+1],d=o<<4|s,c=r-s,l=e[i]<<c,u=l+(1<<c);l!=u;){a[f[l]>>>15-r]=d,l++}},t.H.l=function(e,r){for(var a=t.H.m.r,n=15-r,f=0;f<e.length;f+=2){var i=e[f]<<r-e[f+1];e[f]=a[i]>>>n}},t.H.M=function(e,r,t){t<<=7&r;var a=r>>>3;e[a]|=t,e[a+1]|=t>>>8},t.H.I=function(e,r,t){t<<=7&r;var a=r>>>3;e[a]|=t,e[a+1]|=t>>>8,e[a+2]|=t>>>16},t.H.e=function(e,r,t){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<t)-1},t.H.b=function(e,r,t){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<t)-1},t.H.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},t.H.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},t.H.m=(e=Uint16Array,r=Uint32Array,{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new e(65536),g:new e(32768)}),function(){for(var e=t.H.m,r=0;r<32768;r++){var a=r;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,e.r[r]=(a>>>16|a<<16)>>>17}function n(e,r,t){for(;0!=r--;)e.push(0,t)}for(r=0;r<32;r++)e.q[r]=e.S[r]<<3|e.T[r],e.c[r]=e.p[r]<<4|e.z[r];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),t.H.n(e._,9),t.H.A(e._,9,e.J),t.H.l(e._,9),n(e.$,32,5),t.H.n(e.$,5),t.H.A(e.$,5,e.h),t.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),t.H.N}(),UPNG.decode._readInterlace=function(e,r){for(var t=r.width,a=r.height,n=UPNG.decode._getBPP(r),f=n>>3,i=Math.ceil(t*n/8),o=new Uint8Array(a*i),s=0,d=[0,0,4,0,2,0,1],c=[0,4,0,2,0,1,0],l=[8,8,8,4,4,2,2],u=[8,8,4,4,2,2,1],v=0;v<7;){for(var h=l[v],U=u[v],P=0,b=0,w=d[v];w<a;)w+=h,b++;for(var N=c[v];N<t;)N+=U,P++;var G=Math.ceil(P*n/8);UPNG.decode._filterZero(e,r,s,P,b);for(var p=0,g=d[v];g<a;){for(var _=c[v],y=s+p*G<<3;_<t;){var A;if(1==n)A=(A=e[y>>3])>>7-(7&y)&1,o[g*i+(_>>3)]|=A<<7-((7&_)<<0);if(2==n)A=(A=e[y>>3])>>6-(7&y)&3,o[g*i+(_>>2)]|=A<<6-((3&_)<<1);if(4==n)A=(A=e[y>>3])>>4-(7&y)&15,o[g*i+(_>>1)]|=A<<4-((1&_)<<2);if(n>=8)for(var H=g*i+_*f,m=0;m<f;m++)o[H+m]=e[(y>>3)+m];y+=n,_+=U}p++,g+=h}P*b!=0&&(s+=b*(1+G)),v+=1}return o},UPNG.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},UPNG.decode._filterZero=function(e,r,t,a,n){var f=UPNG.decode._getBPP(r),i=Math.ceil(a*f/8),o=UPNG.decode._paeth;f=Math.ceil(f/8);var s=0,d=1,c=e[t],l=0;if(c>1&&(e[t]=[0,0,1][c-2]),3==c)for(l=f;l<i;l++)e[l+1]=e[l+1]+(e[l+1-f]>>>1)&255;for(var u=0;u<n;u++)if(l=0,0==(c=e[(d=(s=t+u*i)+u+1)-1]))for(;l<i;l++)e[s+l]=e[d+l];else if(1==c){for(;l<f;l++)e[s+l]=e[d+l];for(;l<i;l++)e[s+l]=e[d+l]+e[s+l-f]}else if(2==c)for(;l<i;l++)e[s+l]=e[d+l]+e[s+l-i];else if(3==c){for(;l<f;l++)e[s+l]=e[d+l]+(e[s+l-i]>>>1);for(;l<i;l++)e[s+l]=e[d+l]+(e[s+l-i]+e[s+l-f]>>>1)}else{for(;l<f;l++)e[s+l]=e[d+l]+o(0,e[s+l-i],0);for(;l<i;l++)e[s+l]=e[d+l]+o(e[s+l-f],e[s+l-i],e[s+l-f-i])}return e},UPNG.decode._paeth=function(e,r,t){var a=e+r-t,n=a-e,f=a-r,i=a-t;return n*n<=f*f&&n*n<=i*i?e:f*f<=i*i?r:t},UPNG.decode._IHDR=function(e,r,t){var a=UPNG._bin;t.width=a.readUint(e,r),r+=4,t.height=a.readUint(e,r),r+=4,t.depth=e[r],r++,t.ctype=e[r],r++,t.compress=e[r],r++,t.filter=e[r],r++,t.interlace=e[r],r++},UPNG._bin={nextZero:function(e,r){for(;0!=e[r];)r++;return r},readUshort:function(e,r){return e[r]<<8|e[r+1]},writeUshort:function(e,r,t){e[r]=t>>8&255,e[r+1]=255&t},readUint:function(e,r){return 16777216*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3])},writeUint:function(e,r,t){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=255&t},readASCII:function(e,r,t){for(var a="",n=0;n<t;n++)a+=String.fromCharCode(e[r+n]);return a},writeASCII:function(e,r,t){for(var a=0;a<t.length;a++)e[r+a]=t.charCodeAt(a)},readBytes:function(e,r,t){for(var a=[],n=0;n<t;n++)a.push(e[r+n]);return a},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,t){for(var a,n="",f=0;f<t;f++)n+="%"+UPNG._bin.pad(e[r+f].toString(16));try{a=decodeURIComponent(n)}catch(a){return UPNG._bin.readASCII(e,r,t)}return a}},UPNG._copyTile=function(e,r,t,a,n,f,i,o,s){for(var d=Math.min(r,n),c=Math.min(t,f),l=0,u=0,v=0;v<c;v++)for(var h=0;h<d;h++)if(i>=0&&o>=0?(l=v*r+h<<2,u=(o+v)*n+i+h<<2):(l=(-o+v)*r-i+h<<2,u=v*n+h<<2),0==s)a[u]=e[l],a[u+1]=e[l+1],a[u+2]=e[l+2],a[u+3]=e[l+3];else if(1==s){var U=e[l+3]*(1/255),P=e[l]*U,b=e[l+1]*U,w=e[l+2]*U,N=a[u+3]*(1/255),G=a[u]*N,p=a[u+1]*N,g=a[u+2]*N,_=1-U,y=U+N*_,A=0==y?0:1/y;a[u+3]=255*y,a[u+0]=(P+G*_)*A,a[u+1]=(b+p*_)*A,a[u+2]=(w+g*_)*A}else if(2==s){U=e[l+3],P=e[l],b=e[l+1],w=e[l+2],N=a[u+3],G=a[u],p=a[u+1],g=a[u+2];U==N&&P==G&&b==p&&w==g?(a[u]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0):(a[u]=P,a[u+1]=b,a[u+2]=w,a[u+3]=U)}else if(3==s){U=e[l+3],P=e[l],b=e[l+1],w=e[l+2],N=a[u+3],G=a[u],p=a[u+1],g=a[u+2];if(U==N&&P==G&&b==p&&w==g)continue;if(U<220&&N>20)return!1}return!0};